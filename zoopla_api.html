<html>
<head>
<title>Hello</title>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script>
function createCORSRequest(method, url) {
	var xhr = new XMLHttpRequest();
	if ("withCredentials" in xhr) {

		// Check if the XMLHttpRequest object has a "withCredentials" property.
		// "withCredentials" only exists on XMLHTTPRequest2 objects.
		xhr.open(method, url, true);

	} else if (typeof XDomainRequest != "undefined") {

		// Otherwise, check if XDomainRequest.
		// XDomainRequest only exists in IE, and is IE's way of making CORS requests.
		xhr = new XDomainRequest();
		xhr.open(method, url);

	} else {

		// Otherwise, CORS is not supported by the browser.
		xhr = null;

	}
	return xhr;
}

// var xhr = createCORSRequest('GET', url);
// if (!xhr) {
// 	throw new Error('CORS not supported');
// }

$(document).ready(function () {
	// var xhr = createCORSRequest(
	// 	'GET',
	// 	'http://api.zoopla.co.uk/api/v1/property_listings.xml?area=Oxford&api_key=6skuhfgfs7pujm4y6rzzh3uy');

	// xhr.onload = function() {
	// 	var responseText = xhr.responseText;
	// 	console.log(responseText);
	// 	// process the response.
	// };

	// xhr.send();

	$.ajax(
		'http://api.zoopla.co.uk/api/v1/property_listings.xml?area=Oxford&api_key=6skuhfgfs7pujm4y6rzzh3uy',
		{
			type: 'GET',
			dataType: 'xml',
			data: {},
			success: function (data, status, jqXHR) {
				console.log(data);
			},
		});
});
</script>
</head>
<body>
<div id="stuff"></div>
<footer>
<a href="http://www.zoopla.co.uk/"><img src="http://www.zoopla.co.uk/static/images/mashery/powered-by-zoopla-150x73.png" width="150" height="73" title="Property information powered by Zoopla" alt="Property information powered by Zoopla" border="0"></a>
</footer>
</body>
</html